import{r as o,u as Se,j as e,H as Ae,a as d}from"./app-BRnJR1Sh.js";import{C as ne,a as le,b as ie,c as ae,d as Ie}from"./card-DnLGfEaO.js";import{B as a}from"./index--9UXWzda.js";import{I as _,L as x}from"./label-NLSWumel.js";import{A as Ee,D as ze,a as Ue,b as Te,d as k}from"./app-layout-CwjsvM-V.js";import{D as re,a as ce,b as oe,c as de,d as me}from"./dialog-BS_gIOG-.js";import{A as O,a as V,b as q,c as R,d as B,e as K,f as Y,g as Q}from"./alert-dialog-BmYsLGJH.js";import{T as he}from"./textarea-C-zDAql-.js";import{P as $e}from"./plus-JujPnNOU.js";import{N as Le}from"./index-IhgRiHsg.js";import{S as Pe}from"./search-Gu_FUPgM.js";import{U as Fe}from"./user-DoVxuRGK.js";import{C as Me}from"./calendar-KdM7TUxi.js";import{M as He}from"./message-square-B1teR5D8.js";import{H as Oe}from"./heart-Ahs-pyJp.js";import{E as Ve}from"./ellipsis-je49CKto.js";import{I as ue}from"./image-ZKLieW3R.js";import{U as pe,A as D,a as S,V as xe,C as je}from"./video-Ba4u240b.js";import{T as A}from"./trash-2-DPuzknPJ.js";/* empty css            */import"./index-IcuPU4lD.js";import"./avatar-KCNf1HZu.js";import"./index-BiSsiKa2.js";import"./log-out-Bpnl5Z85.js";function ps({mode:qe,breadcrumbs:ge,headTitle:we,headerTitle:fe,headerSubtitle:ve,listTitle:Ne,listDescription:ye,basePath:j,posts:U,totalPosts:be,canCreate:W=!0,canEdit:G=!0,canArchive:J=!0,canDelete:X=!0}){const[Ce,T]=o.useState(!1),[$,w]=o.useState(null),[L,f]=o.useState(null),[P,v]=o.useState(null),[F,N]=o.useState(null),[I,_e]=o.useState(""),{data:r,setData:g,processing:M,reset:ke,errors:p,clearErrors:De}=Se({news_title:"",news_description:""}),[y,m]=o.useState([]),[E,h]=o.useState([]),[Z,b]=o.useState([]),[z,C]=o.useState([]),[u,c]=o.useState([]),ee=o.useMemo(()=>!!(r.news_title?.trim()?.length>0&&r.news_description?.trim()?.length>0),[r]),se=o.useMemo(()=>{if(!I.trim())return U;const l=I.toLowerCase();return U.filter(s=>s.title.toLowerCase().includes(l)||s.content.toLowerCase().includes(l)||s.author.name.toLowerCase().includes(l))},[U,I]),H=()=>{T(!1),De(),ke("news_title","news_description"),m([]),h([]),c([])},te=l=>`${j}/news/${l}`;return e.jsxs(Ee,{breadcrumbs:ge,children:[e.jsx(Ae,{title:we}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:fe}),e.jsx("p",{className:"text-muted-foreground",children:ve})]}),W?e.jsxs(a,{className:"w-full sm:w-auto",onClick:()=>T(!0),children:[e.jsx($e,{className:"mr-2 h-4 w-4"}),"Add news"]}):null]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:e.jsxs(ne,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ie,{className:"text-sm font-medium",children:"Total News"}),e.jsx(Le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ae,{children:[e.jsx("div",{className:"text-2xl font-bold",children:be}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All news"})]})]})}),e.jsxs(ne,{children:[e.jsxs(le,{children:[e.jsx(ie,{children:Ne}),e.jsx(Ie,{children:ye}),e.jsx("div",{className:"flex items-center gap-2 max-sm:flex-col sm:justify-between",children:e.jsxs("div",{className:"relative w-full sm:w-auto",children:[e.jsx(Pe,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(_,{placeholder:"Search by title, content, author...",className:"pl-8 w-full sm:w-[300px]",value:I,onChange:l=>_e(l.target.value)})]})})]}),e.jsx(ae,{children:e.jsxs("div",{className:"space-y-4",children:[se.length===0?e.jsx("div",{className:"text-sm text-muted-foreground p-4 border rounded-md",children:"No news match your search."}):null,se.map(l=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"flex items-start gap-4 flex-1",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-medium text-lg",children:l.title}),l.archived?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Archived"}):null]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[(l.excerpt||l.content).slice(0,150),(l.excerpt||l.content).length>150?"...":""]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fe,{className:"mr-1 h-3 w-3"}),l.author.name]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"mr-1 h-3 w-3"}),l.published_at?new Date(l.published_at).toLocaleDateString():new Date(l.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{className:"mr-1 h-3 w-3"}),l.comments_count," comments"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"mr-1 h-3 w-3"}),l.likes_count??0," likes"]})]})]})}),e.jsxs("div",{className:"flex sm:hidden w-full justify-around",children:[e.jsx(a,{variant:"outline",size:"sm",onClick:()=>d.get(te(l.id)),children:"View"}),G?e.jsx(a,{variant:"outline",size:"sm",onClick:()=>{w(l.id),g({...r,news_title:l.title,news_description:l.content});const s=(l.attachments?.images??[]).slice().sort((n,t)=>n.order-t.order);b(s.map(n=>n.id)),C(s.map(n=>n.url)),h([]),m([]),c((l.attachments?.videos??[]).slice().sort((n,t)=>n.order-t.order).map(n=>n.embedUrl))},children:"Edit"}):null,J?l.archived?e.jsx(a,{variant:"outline",size:"sm",onClick:()=>N(l.id),children:"Unarchive"}):e.jsx(a,{variant:"outline",size:"sm",onClick:()=>v(l.id),children:"Archive"}):null,X?e.jsx(a,{variant:"destructive",size:"sm",onClick:()=>f(l.id),children:"Delete"}):null]}),e.jsx("div",{className:"hidden sm:block",children:e.jsxs(ze,{children:[e.jsx(Ue,{asChild:!0,children:e.jsx(a,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Ve,{className:"h-4 w-4"})})}),e.jsxs(Te,{align:"end",children:[e.jsx(k,{onClick:()=>d.get(te(l.id)),children:"View News"}),G?e.jsx(k,{onClick:()=>{w(l.id),g({...r,news_title:l.title,news_description:l.content});const s=(l.attachments?.images??[]).slice().sort((n,t)=>n.order-t.order);b(s.map(n=>n.id)),C(s.map(n=>n.url)),h([]),m([]),c((l.attachments?.videos??[]).slice().sort((n,t)=>n.order-t.order).map(n=>n.embedUrl))},children:"Edit News"}):null,J?l.archived?e.jsx(k,{onClick:()=>N(l.id),children:"Unarchive News"}):e.jsx(k,{onClick:()=>v(l.id),children:"Archive News"}):null,X?e.jsx(k,{className:"text-red-600",onClick:()=>f(l.id),children:"Delete News"}):null]})]})})]},l.id))]})})]}),W?e.jsx(re,{open:Ce,onOpenChange:l=>{l?T(!0):H()},children:e.jsxs(ce,{className:"sm:max-w-3xl max-h-[85vh] overflow-y-auto",children:[e.jsx(oe,{children:e.jsx(de,{children:"Add news"})}),e.jsxs("form",{className:"space-y-4",onSubmit:l=>{if(l.preventDefault(),!ee)return;const s=new FormData;s.append("news_title",r.news_title),s.append("news_description",r.news_description),y.forEach(n=>{s.append("images[]",n)}),y.forEach((n,t)=>{s.append("images_order[]",String(t))}),u.forEach(n=>{s.append("videos[]",n)}),u.forEach((n,t)=>{s.append("videos_order[]",String(t))}),d.post(`${j}/news`,s,{onSuccess:()=>{H(),d.reload({only:["posts","totalPosts"]})}})},children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"news-title",children:"Title"}),e.jsx(_,{id:"news-title",value:r.news_title,onChange:l=>g("news_title",l.target.value),placeholder:"Enter a concise title",required:!0}),p.news_title?e.jsx("p",{className:"text-xs text-red-600",children:p.news_title}):null]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"news-content",children:"Content"}),e.jsx(he,{id:"news-content",value:r.news_description,onChange:l=>g("news_description",l.target.value),placeholder:"Write the news content...",rows:6,required:!0}),p.news_description?e.jsx("p",{className:"text-xs text-red-600",children:p.news_description}):null]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(x,{className:"m-0",children:"Images"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Upload one or more images"})]}),e.jsxs("div",{className:"rounded-lg border border-dashed p-4 text-center hover:bg-muted/30 transition cursor-pointer",onClick:()=>{document.getElementById("news-images-input")?.click()},children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Click to choose files"})]}),e.jsx("input",{id:"news-images-input",type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:l=>{const s=Array.from(l.target.files||[]);if(s.length===0)return;m(t=>[...t,...s]);const n=s.map(t=>URL.createObjectURL(t));h(t=>[...t,...n])}})]}),E.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:E.map((l,s)=>e.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[e.jsx("img",{src:l,alt:`preview-${s}`,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute left-2 top-2 text-[10px] font-medium px-1.5 py-0.5 rounded bg-black/60 text-white",children:s+1}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-1.5 flex items-center justify-between bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s<=0||(m(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s-1,0,i),t}),h(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s-1,0,i),t}))},children:e.jsx(D,{className:"h-3.5 w-3.5"})}),e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s>=y.length-1||(m(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s+1,0,i),t}),h(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s+1,0,i),t}))},children:e.jsx(S,{className:"h-3.5 w-3.5"})})]}),e.jsx(a,{type:"button",size:"icon",variant:"destructive",className:"h-7 w-7",onClick:()=>{m(n=>n.filter((t,i)=>i!==s)),h(n=>n.filter((t,i)=>i!==s))},children:e.jsx(A,{className:"h-3.5 w-3.5"})})]})]},s))}):null,p.images?e.jsx("p",{className:"text-xs text-red-600",children:String(p.images)}):null]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(x,{className:"m-0",children:"YouTube videos"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Paste one or more URLs"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_,{placeholder:"https://youtube.com/watch?v=...",onKeyDown:l=>{const s=l.target;if(l.key==="Enter"){l.preventDefault();const n=s.value.trim();n&&(c(t=>[...t,n]),s.value="")}}}),e.jsxs(a,{type:"button",variant:"secondary",onClick:l=>{const s=l.currentTarget.previousSibling;if(s&&"value"in s){const n=s.value.trim();n&&(c(t=>[...t,n]),s.value="")}},children:[e.jsx(je,{className:"h-4 w-4 mr-1"})," Add"]})]}),u.length>0?e.jsx("div",{className:"space-y-2 mt-1",children:u.map((l,s)=>e.jsxs("div",{className:"flex items-center gap-2 border rounded-md p-2",children:[e.jsx("div",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-muted",children:s+1}),e.jsx("div",{className:"flex-1 truncate text-sm",title:l,children:l}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s<=0||c(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s-1,0,i),t})},children:e.jsx(D,{className:"h-3.5 w-3.5"})}),e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s>=u.length-1||c(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s+1,0,i),t})},children:e.jsx(S,{className:"h-3.5 w-3.5"})}),e.jsx(a,{type:"button",size:"icon",variant:"destructive",className:"h-7 w-7",onClick:()=>c(n=>n.filter((t,i)=>i!==s)),children:e.jsx(A,{className:"h-3.5 w-3.5"})})]})]},s))}):null]})]}),e.jsxs(me,{children:[e.jsx(a,{type:"button",variant:"ghost",onClick:H,disabled:M,children:"Cancel"}),e.jsx(a,{type:"submit",disabled:!ee||M,children:M?"Creating...":"Create news"})]})]})]})}):null,e.jsx(re,{open:$!==null,onOpenChange:l=>{l||w(null)},children:e.jsxs(ce,{className:"sm:max-w-3xl max-h-[85vh] overflow-y-auto",children:[e.jsx(oe,{children:e.jsx(de,{children:"Edit news"})}),e.jsxs("form",{className:"space-y-4",onSubmit:l=>{if(l.preventDefault(),$===null||!r.news_title.trim()||!r.news_description.trim())return;const s=new FormData;s.append("_method","put"),s.append("news_title",r.news_title),s.append("news_description",r.news_description),s.append("existing_images_provided","1"),Z.forEach(n=>s.append("existing_image_ids[]",String(n))),Z.forEach((n,t)=>s.append("existing_images_order[]",String(t))),y.forEach((n,t)=>{s.append("images[]",n),s.append("images_order[]",String(t))}),s.append("replace_videos","1"),u.forEach((n,t)=>{s.append("videos[]",n),s.append("videos_order[]",String(t))}),d.post(`${j}/news/${$}`,s,{onSuccess:()=>{w(null),d.reload({only:["posts"]})}})},children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"news-title-edit",children:"Title"}),e.jsx(_,{id:"news-title-edit",value:r.news_title,onChange:l=>g("news_title",l.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"news-content-edit",children:"Content"}),e.jsx(he,{id:"news-content-edit",value:r.news_description,onChange:l=>g("news_description",l.target.value),rows:6,required:!0})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Add images or videos to replace existing attachments. Leave empty to keep current attachments."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(x,{className:"m-0",children:"Images"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Upload one or more images"})]}),e.jsxs("div",{className:"rounded-lg border border-dashed p-4 text-center hover:bg-muted/30 transition cursor-pointer",onClick:()=>{document.getElementById("news-images-input-edit")?.click()},children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Click to choose files"})]}),e.jsx("input",{id:"news-images-input-edit",type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:l=>{const s=Array.from(l.target.files||[]);if(s.length===0)return;m(t=>[...t,...s]);const n=s.map(t=>URL.createObjectURL(t));h(t=>[...t,...n])}})]}),z.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:z.map((l,s)=>e.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[e.jsx("img",{src:l,alt:`preview-${s}`,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute left-2 top-2 text-[10px] font-medium px-1.5 py-0.5 rounded bg-black/60 text-white",children:s+1}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-1.5 flex items-center justify-between bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s<=0||(C(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s-1,0,i),t}),b(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s-1,0,i),t}))},children:e.jsx(D,{className:"h-3.5 w-3.5"})}),e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s>=z.length-1||(C(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s+1,0,i),t}),b(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s+1,0,i),t}))},children:e.jsx(S,{className:"h-3.5 w-3.5"})})]}),e.jsx(a,{type:"button",size:"icon",variant:"destructive",className:"h-7 w-7",onClick:()=>{C(n=>n.filter((t,i)=>i!==s)),b(n=>n.filter((t,i)=>i!==s))},children:e.jsx(A,{className:"h-3.5 w-3.5"})})]})]},`edit-${s}`))}):null,E.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:E.map((l,s)=>e.jsxs("div",{className:"relative group border rounded-lg overflow-hidden",children:[e.jsx("img",{src:l,alt:`new-preview-${s}`,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute left-2 top-2 text-[10px] font-medium px-1.5 py-0.5 rounded bg-black/60 text-white",children:s+1+z.length}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-1.5 flex items-center justify-between bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s<=0||(m(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s-1,0,i),t}),h(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s-1,0,i),t}))},children:e.jsx(D,{className:"h-3.5 w-3.5"})}),e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s>=y.length-1||(m(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s+1,0,i),t}),h(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s+1,0,i),t}))},children:e.jsx(S,{className:"h-3.5 w-3.5"})})]}),e.jsx(a,{type:"button",size:"icon",variant:"destructive",className:"h-7 w-7",onClick:()=>{m(n=>n.filter((t,i)=>i!==s)),h(n=>n.filter((t,i)=>i!==s))},children:e.jsx(A,{className:"h-3.5 w-3.5"})})]})]},`new-${s}`))}):null,p.images?e.jsx("p",{className:"text-xs text-red-600",children:String(p.images)}):null]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(x,{className:"m-0",children:"YouTube videos"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Paste one or more URLs"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_,{placeholder:"https://youtube.com/watch?v=...",onKeyDown:l=>{const s=l.target;if(l.key==="Enter"){l.preventDefault();const n=s.value.trim();n&&(c(t=>[...t,n]),s.value="")}}}),e.jsxs(a,{type:"button",variant:"secondary",onClick:l=>{const s=l.currentTarget.previousSibling;if(s&&"value"in s){const n=s.value.trim();n&&(c(t=>[...t,n]),s.value="")}},children:[e.jsx(je,{className:"h-4 w-4 mr-1"})," Add"]})]}),u.length>0?e.jsx("div",{className:"space-y-2 mt-1",children:u.map((l,s)=>e.jsxs("div",{className:"flex items-center gap-2 border rounded-md p-2",children:[e.jsx("div",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-muted",children:s+1}),e.jsx("div",{className:"flex-1 truncate text-sm",title:l,children:l}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s<=0||c(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s-1,0,i),t})},children:e.jsx(D,{className:"h-3.5 w-3.5"})}),e.jsx(a,{type:"button",size:"icon",variant:"secondary",className:"h-7 w-7",onClick:()=>{s>=u.length-1||c(n=>{const t=[...n],[i]=t.splice(s,1);return t.splice(s+1,0,i),t})},children:e.jsx(S,{className:"h-3.5 w-3.5"})}),e.jsx(a,{type:"button",size:"icon",variant:"destructive",className:"h-7 w-7",onClick:()=>c(n=>n.filter((t,i)=>i!==s)),children:e.jsx(A,{className:"h-3.5 w-3.5"})})]})]},`edit-${s}`))}):null]})]}),e.jsxs(me,{children:[e.jsx(a,{type:"button",variant:"ghost",onClick:()=>w(null),children:"Cancel"}),e.jsx(a,{type:"submit",children:"Save changes"})]})]})]})}),e.jsx(O,{open:L!==null,onOpenChange:l=>{l||f(null)},children:e.jsxs(V,{children:[e.jsxs(q,{children:[e.jsx(R,{children:"Delete this news?"}),e.jsx(B,{children:"This action cannot be undone. This will permanently delete the news and its related data."})]}),e.jsxs(K,{children:[e.jsx(Y,{onClick:()=>f(null),children:"Cancel"}),e.jsx(Q,{onClick:()=>{L!==null&&d.delete(`${j}/news/${L}`,{onSuccess:()=>{f(null),d.reload({only:["posts","totalPosts"]})}})},children:"Delete"})]})]})}),e.jsx(O,{open:P!==null,onOpenChange:l=>{l||v(null)},children:e.jsxs(V,{children:[e.jsxs(q,{children:[e.jsx(R,{children:"Archive this news?"}),e.jsx(B,{children:"This news will be hidden from the public news page but will remain visible in the dashboard with an archived label."})]}),e.jsxs(K,{children:[e.jsx(Y,{onClick:()=>v(null),children:"Cancel"}),e.jsx(Q,{onClick:()=>{P!==null&&d.post(`${j}/news/${P}/archive`,{},{onSuccess:()=>{v(null),d.reload({only:["posts","totalPosts"]})}})},children:"Archive"})]})]})}),e.jsx(O,{open:F!==null,onOpenChange:l=>{l||N(null)},children:e.jsxs(V,{children:[e.jsxs(q,{children:[e.jsx(R,{children:"Unarchive this news?"}),e.jsx(B,{children:"This news will be made visible on the public news page again."})]}),e.jsxs(K,{children:[e.jsx(Y,{onClick:()=>N(null),children:"Cancel"}),e.jsx(Q,{onClick:()=>{F!==null&&d.post(`${j}/news/${F}/unarchive`,{},{onSuccess:()=>{N(null),d.reload({only:["posts","totalPosts"]})}})},children:"Unarchive"})]})]})})]})]})}export{ps as default};
