import{u as P,j as e,L as $,a as j,r as k,b as A}from"./app-7bm-VKv1.js";import{C as S,A as _,N as R}from"./NewsLayout-DQne0QQ_.js";import{u as F}from"./useTranslations-3yRpkC8G.js";import{S as E,c as H,l as I}from"./index-Trzu2B8w.js";import{A as U}from"./AttachmentsCarousel-B1hPU9eW.js";import{l as B}from"./index-BiJvddOp.js";import{M as w}from"./message-square-DYF9yRym.js";import{U as T}from"./user-ByuGHErL.js";import{E as W}from"./ellipsis-DA3D-9hT.js";import{H as y}from"./heart-DqaQdNDQ.js";import{c as C}from"./index-Ckig5j1P.js";import{e as z,f as V}from"./select-njr4OJaE.js";import{C as Y}from"./calendar-D1-6thNo.js";import{E as J}from"./eye-pB7PruFe.js";import{N as M}from"./index-BVA5OAxX.js";import{u as G}from"./Footer-CVKjd36b.js";/* empty css            */import"./alert-dialog-BQII0eoT.js";import"./textarea-BUtcvPJt.js";import"./search-BltcB82y.js";import"./index-BWSGDc1C.js";import"./card-CRkiQ9CR.js";import"./mail-6Jdo0vfI.js";import"./separator-BIMwNyeH.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],O=C("Play",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],X=C("Reply",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ee=C("Share2",Z);function te({newsId:t,comments:s,isLoggedIn:n,onCommentSubmitted:u}){const{data:l,setData:b,post:d,processing:o,reset:g}=P({comment:""}),p=a=>{a.preventDefault(),d(H({news:t}).url,{onSuccess:()=>{g("comment"),u?u():j.reload()}})},x=a=>{const f=new Date(a),v=Math.abs(new Date().getTime()-f.getTime()),m=Math.floor(v/(1e3*60)),h=Math.floor(v/(1e3*60*60)),r=Math.floor(v/(1e3*60*60*24));return m<60?`${m}m ago`:h<24?`${h}h ago`:r<7?`${r}d ago`:f.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return e.jsx("section",{className:"mt-4 lg:mt-6 mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-2xl lg:rounded-3xl shadow-xl border border-white/20 dark:border-slate-700/50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-800 dark:via-slate-700 dark:to-slate-800 px-6 lg:px-12 py-8 border-b border-slate-200/50 dark:border-slate-600/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl lg:text-3xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-white dark:via-gray-100 dark:to-white bg-clip-text text-transparent flex items-center",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-blue-500/10 dark:bg-blue-400/10 mr-4",children:e.jsx(w,{className:"h-6 w-6 lg:h-7 lg:w-7 text-blue-600 dark:text-blue-400"})}),"Discussion"]}),e.jsx("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/50 dark:bg-slate-700/50 backdrop-blur-sm",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300",children:[s.length," ",s.length===1?"comment":"comments"]})})]})}),e.jsxs("div",{className:"p-6 lg:p-12",children:[n?e.jsx("div",{className:"mb-8 lg:mb-12",children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{className:"w-full rounded-2xl border border-slate-200 dark:border-slate-600 px-6 py-4 text-base bg-white/50 dark:bg-slate-700/50 backdrop-blur-sm text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all duration-200 hover:bg-white/80 dark:hover:bg-slate-700/80",rows:4,value:l.comment,onChange:a=>b("comment",a.target.value),placeholder:"Share your thoughts on this article...",required:!0}),e.jsxs("div",{className:"absolute bottom-4 right-4 text-xs text-gray-400",children:[l.comment.length,"/500"]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:`group inline-flex items-center px-8 py-3 rounded-full text-sm font-semibold transition-all duration-300 transform hover:scale-105 active:scale-95 ${o||!l.comment.trim()?"bg-gray-100 dark:bg-slate-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/40"}`,disabled:o||!l.comment.trim(),children:[e.jsx(E,{className:"h-4 w-4 mr-3 transition-transform duration-300 group-hover:translate-x-0.5"}),o?"Posting...":"Post Comment"]})})]})}):e.jsx("div",{className:"mb-8 lg:mb-12",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-blue-50 dark:from-blue-900/20 dark:via-indigo-900/20 dark:to-blue-900/20 rounded-2xl p-6 border border-blue-200/50 dark:border-blue-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(T,{className:"h-12 w-12 text-blue-500 dark:text-blue-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Join the conversation"}),e.jsx("p",{className:"text-blue-700 dark:text-blue-300 mb-4",children:"Please log in to share your thoughts and engage with other readers."}),e.jsx($,{href:B().url,className:"inline-flex items-center px-6 py-3 rounded-full bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-all duration-200 hover:scale-105",children:"Sign In to Comment"})]})})}),s.length===0?e.jsx("div",{className:"text-center py-12 lg:py-16",children:e.jsxs("div",{className:"max-w-sm mx-auto",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(w,{className:"h-12 w-12 text-blue-500 dark:text-blue-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Start the conversation"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Be the first to share your thoughts on this article. Your perspective matters!"})]})}):e.jsx("div",{className:"space-y-6 lg:space-y-8",children:s.map((a,f)=>e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-50/50 via-white/50 to-slate-50/50 dark:from-slate-800/30 dark:via-slate-700/30 dark:to-slate-800/30 backdrop-blur-sm rounded-2xl p-6 border border-slate-200/50 dark:border-slate-600/30 hover:shadow-lg hover:shadow-slate-200/50 dark:hover:shadow-slate-900/20 transition-all duration-300",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(T,{className:"h-6 w-6 text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:a.author.name}),a.createdAt&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(S,{className:"h-3 w-3"}),e.jsx("span",{children:x(a.createdAt)})]})]}),e.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-600 transition-all duration-200",children:e.jsx(W,{className:"h-4 w-4 text-gray-400"})})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:a.text}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm text-gray-600 dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-all duration-200",children:[e.jsx(y,{className:"h-4 w-4"}),e.jsx("span",{children:"Like"})]}),e.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm text-gray-600 dark:text-gray-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Reply"})]})]})]})]})}),f<s.length-1&&e.jsx("div",{className:"mt-6 lg:mt-8 h-px bg-gradient-to-r from-transparent via-slate-200 dark:via-slate-700 to-transparent"})]},a.id))})]})]})})}function ae({news:t,onBackToList:s,showBackButton:n=!1,auth:u}){const[l,b]=k.useState(!1),[d,o]=k.useState(!1),g=!!u?.user,p=()=>{j.post(I({news:t.id}).url)},x=()=>{o(!d)},a=()=>{b(!0),o(!0)},f=()=>{b(!1),o(!1)},N=m=>{const h=new Date(m),i=Math.abs(new Date().getTime()-h.getTime()),c=Math.ceil(i/(1e3*60*60*24));return c===1?"Yesterday":c<=7?`${c} days ago`:h.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},v=(m,h=4)=>{const r=document.createElement("div");r.innerHTML=m;const c=(r.textContent||r.innerText||"").split(" "),D=h*15;return c.length<=D?m:`<p>${c.slice(0,D).join(" ")+"..."}</p>`};return e.jsxs("div",{className:"w-full max-w-full min-h-full bg-gradient-to-br from-white via-slate-50/50 to-blue-50/30 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[n&&s&&e.jsx("div",{className:"lg:hidden p-4 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200/50 dark:border-slate-700/50",children:e.jsxs("button",{onClick:s,className:"inline-flex items-center px-4 py-2 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-all duration-200 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"font-medium",children:"Back to News"})]})}),e.jsx("article",{className:"mx-auto max-w-4xl",children:e.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm shadow-xl border border-white/20 dark:border-slate-700/50 overflow-hidden mx-4 sm:mx-6 lg:mx-8 rounded-2xl lg:rounded-3xl",children:[e.jsxs("div",{className:"relative",children:[e.jsx(U,{title:t.title,images:t.attachments?.images,videos:t.attachments?.videos}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent pointer-events-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("header",{className:"px-6 lg:px-12 pt-8 lg:pt-12 pb-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl lg:text-5xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-white dark:via-gray-100 dark:to-white bg-clip-text text-transparent leading-tight",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[t.createdAt&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:N(t.createdAt)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[t.comments.length," ",t.comments.length===1?"comment":"comments"]})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-slate-200 dark:via-slate-700 to-transparent"})]})}),e.jsxs("div",{className:"px-6 lg:px-12 pb-8",children:[e.jsx("div",{className:`prose prose-lg lg:prose-xl max-w-none\r
                         text-gray-700 dark:text-gray-300\r
                         prose-headings:text-gray-900 dark:prose-headings:text-white\r
                         prose-headings:font-bold prose-headings:tracking-tight\r
                         prose-a:text-blue-600 dark:prose-a:text-blue-400\r
                         prose-a:no-underline hover:prose-a:underline\r
                         prose-p:leading-relaxed prose-p:mb-6\r
                         prose-strong:text-gray-900 dark:prose-strong:text-white\r
                         prose-blockquote:border-l-4 prose-blockquote:border-blue-500\r
                         prose-blockquote:bg-blue-50/50 dark:prose-blockquote:bg-blue-900/10\r
                         prose-blockquote:py-4 prose-blockquote:px-6 prose-blockquote:rounded-r-lg`,dangerouslySetInnerHTML:{__html:l?t.description:v(t.description)}}),(()=>{const m=document.createElement("div");m.innerHTML=t.description;const r=(m.textContent||m.innerText||"").split(" "),c=4*15;return r.length>c?e.jsx("div",{className:"mt-8 flex justify-center",children:l?e.jsxs("button",{onClick:f,className:"group inline-flex items-center px-8 py-4 rounded-2xl bg-gradient-to-r from-slate-500 via-slate-600 to-slate-700 text-white font-semibold text-base hover:from-slate-600 hover:via-slate-700 hover:to-slate-800 transition-all duration-300 hover:scale-105 shadow-xl shadow-slate-500/30 hover:shadow-2xl hover:shadow-slate-500/40 border border-slate-400/20",children:[e.jsx("span",{className:"mr-3 font-medium",children:"Show Less"}),e.jsx(V,{className:"h-5 w-5 transition-transform duration-300 group-hover:-translate-y-0.5"})]}):e.jsxs("button",{onClick:a,className:"group inline-flex items-center px-8 py-4 rounded-2xl bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white font-semibold text-base hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 transition-all duration-300 hover:scale-105 shadow-xl shadow-blue-500/30 hover:shadow-2xl hover:shadow-blue-500/40 border border-blue-400/20",children:[e.jsx("span",{className:"mr-3 font-medium",children:"Read More"}),e.jsx(z,{className:"h-5 w-5 transition-transform duration-300 group-hover:translate-y-0.5"})]})}):null})()]}),e.jsx("div",{className:"px-6 lg:px-12 pb-8 lg:pb-12",children:e.jsx("div",{className:"bg-gradient-to-r from-slate-50/80 via-white/90 to-slate-50/80 dark:from-slate-800/60 dark:via-slate-700/60 dark:to-slate-800/60 backdrop-blur-sm rounded-3xl p-8 border border-slate-200/60 dark:border-slate-600/60 shadow-xl",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[e.jsxs("button",{onClick:p,className:`group relative inline-flex items-center px-8 py-4 rounded-2xl text-base font-bold transition-all duration-300 transform hover:scale-105 active:scale-95 overflow-hidden ${t.isLiked?"bg-gradient-to-r from-red-500 via-red-600 to-pink-500 text-white shadow-2xl shadow-red-500/40 hover:shadow-red-500/60":"bg-gradient-to-r from-slate-100 via-slate-200 to-slate-300 dark:from-slate-700 dark:via-slate-600 dark:to-slate-500 text-slate-700 dark:text-slate-200 hover:from-slate-200 hover:via-slate-300 hover:to-slate-400 dark:hover:from-slate-600 dark:hover:via-slate-500 dark:hover:to-slate-400 shadow-lg hover:shadow-xl"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(y,{className:`h-6 w-6 mr-3 transition-all duration-300 group-hover:scale-125 ${t.isLiked?"fill-current animate-pulse":"group-hover:text-red-500"}`}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-lg font-bold",children:t.likesCount}),e.jsx("span",{className:"text-xs opacity-80",children:t.likesCount===1?"Like":"Likes"})]})]}),e.jsxs("button",{onClick:x,className:`group relative inline-flex items-center px-8 py-4 rounded-2xl text-base font-bold transition-all duration-300 transform hover:scale-105 active:scale-95 overflow-hidden ${d?"bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 text-white shadow-2xl shadow-emerald-500/40 hover:shadow-emerald-500/60":"bg-gradient-to-r from-slate-100 via-slate-200 to-slate-300 dark:from-slate-700 dark:via-slate-600 dark:to-slate-500 text-slate-700 dark:text-slate-200 hover:from-slate-200 hover:via-slate-300 hover:to-slate-400 dark:hover:from-slate-600 dark:hover:via-slate-500 dark:hover:to-slate-400 shadow-lg hover:shadow-xl"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(w,{className:"h-6 w-6 mr-3 transition-all duration-300 group-hover:scale-125 group-hover:text-emerald-500"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-lg font-bold",children:t.comments.length}),e.jsx("span",{className:"text-xs opacity-80",children:d?"Hide":"Comments"})]})]}),e.jsxs("button",{className:"group relative inline-flex items-center px-8 py-4 rounded-2xl text-base font-bold transition-all duration-300 transform hover:scale-105 active:scale-95 overflow-hidden bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white shadow-2xl shadow-blue-500/40 hover:shadow-blue-500/60",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(ee,{className:"h-6 w-6 mr-3 transition-all duration-300 group-hover:scale-125"}),e.jsx("span",{className:"text-sm font-bold",children:"Share"})]})]})})})]})]})}),d&&e.jsx(te,{newsId:t.id,comments:t.comments,isLoggedIn:g})]})}function re({news:t,onSelect:s,enhanced:n=!1}){const u=d=>{const o=new Date(d),p=Math.abs(new Date().getTime()-o.getTime()),x=Math.floor(p/(1e3*60*60)),a=Math.floor(p/(1e3*60*60*24));return x<24?`${x}h ago`:a<7?`${a}d ago`:o.toLocaleDateString("en-US",{month:"short",day:"numeric"})},l=()=>{const d=t.attachments?.images??[],o=t.attachments?.videos??[],g=[...d.map(a=>({type:"image",order:a.order,data:a})),...o.map(a=>({type:"video",order:a.order,data:a}))].sort((a,f)=>a.order-f.order);if(g.length===0)return null;const p=g[0],x=d.length+o.length;return e.jsxs("div",{className:"relative aspect-[16/10] bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-800 overflow-hidden",children:[p.type==="image"?e.jsx("img",{src:p.data.url,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-900 to-black",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-300",children:e.jsx(O,{className:"w-8 h-8 text-white ml-1"})}),e.jsx("p",{className:"text-sm text-white/80 font-medium",children:"Video Content"})]})}),x>1&&e.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 backdrop-blur-sm text-white text-xs font-medium px-2 py-1 rounded-full flex items-center gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),x]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})},b=n?"group bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 dark:border-slate-700/50 overflow-hidden hover:shadow-2xl hover:shadow-blue-500/10 dark:hover:shadow-blue-400/5 transition-all duration-300 max-w-full":"group bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-all max-w-full";return e.jsx("article",{className:b,children:e.jsxs("button",{onClick:()=>s(t.id),className:"block w-full text-left",children:[l(),e.jsx("div",{className:n?"p-6 lg:p-8":"p-6",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex items-center gap-3",children:t.createdAt&&e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs font-medium",children:[e.jsx(S,{className:"h-3 w-3"}),u(t.createdAt)]})}),e.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["#",t.id.toString().padStart(4,"0")]})]}),e.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white mb-3 line-clamp-2 leading-tight group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 line-clamp-3 leading-relaxed",children:t.description})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-full bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-sm font-medium",children:[e.jsx(w,{className:"h-4 w-4"}),t.commentsCount]}),e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-full bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm font-medium",children:[e.jsx(y,{className:"h-4 w-4"}),t.likesCount]})]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Read more →"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2 flex items-center justify-between",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 capitalize",children:[(t.attachments?.images?.length??0)+(t.attachments?.videos?.length??0)," attachments"]})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),t.commentsCount]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-4 w-4 mr-1"}),t.likesCount]})]}),t.createdAt&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"h-4 w-4 mr-1"}),new Date(t.createdAt).toLocaleDateString()]})]})]})})]})})}function q({isMobile:t=!1}){return t?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx(M,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No news yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Check back later for updates."})]}):e.jsx("div",{className:"hidden lg:flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(M,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"No News Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back later for the latest news and updates."})]})})}function se({links:t}){return!t||t.length<=3?null:e.jsx("div",{className:"mt-8 flex justify-center px-4",children:e.jsx("nav",{className:"flex space-x-2",children:t.map((s,n)=>e.jsx($,{href:s.url||"#",className:`px-3 py-2 text-sm font-medium rounded-md ${s.active?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"} ${s.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},n))})})}function le({items:t,onNewsSelect:s,paginationLinks:n}){return t.length===0?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/20 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:e.jsx(q,{isMobile:!0})}):e.jsxs("div",{className:"min-h-full bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/20 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:e.jsx("div",{className:"grid gap-6 sm:gap-8",children:t.map((u,l)=>e.jsx("div",{className:"transform transition-all duration-300 hover:scale-[1.02] animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${l*100}ms`},children:e.jsx(re,{news:u,onSelect:s,enhanced:!0})},u.id))})}),n&&e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:e.jsx("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 dark:border-slate-700/50 p-4",children:e.jsx(se,{links:n})})})]})}function $e(){const{t}=G(),{i18n:s}=F(),{props:n}=A(),{auth:u,recentNews:l,popularNews:b,selectedNews:d}=n;u?.user;const[o,g]=k.useState(d?.id||(n.filters?.selected?parseInt(n.filters.selected||"0"):void 0)),[p,x]=k.useState("list");k.useEffect(()=>{if(!o&&l?.data.length&&l.data.length>0){const r=l.data[0].id;g(r),window.innerWidth>=1024&&x("detail")}},[l?.data,o]),k.useEffect(()=>{s.changeLanguage("en")},[s]);const a=r=>{g(r),x("detail");const i=new URLSearchParams(window.location.search);i.set("selected",r.toString()),j.visit(`/news?${i.toString()}`,{preserveScroll:!0,preserveState:!0})},f=()=>{x("list"),g(void 0);const r=new URLSearchParams(window.location.search);r.delete("selected");const i=r.toString();j.visit(`/news${i?`?${i}`:""}`,{preserveScroll:!0,preserveState:!0})},N=r=>{const i=new URLSearchParams(window.location.search);i.delete("recent_page"),i.delete("popular_page"),r.q?i.set("q",r.q):i.delete("q");const c=i.toString();j.visit(`/news${c?`?${c}`:""}`)},v=(r,i)=>{const c=new URLSearchParams(window.location.search);r==="recent"?c.set("recent_page",i.toString()):c.set("popular_page",i.toString());const L=c.toString();j.visit(`/news?${L}`,{preserveScroll:!0,preserveState:!0})},m=d||(o?l?.data.find(r=>r.id===o)||b?.data.find(r=>r.id===o):null),h=m?{...m,comments:d?.comments||[],isLiked:d?.isLiked||!1}:null;return e.jsx(R,{title:h?h.title:"News",recentNews:l,popularNews:b,selectedNewsId:o,onNewsSelect:a,filters:n.filters,onFilterChange:N,onPageChange:v,showFilters:!0,hideFooter:!0,children:p==="detail"&&h?e.jsx(e.Fragment,{children:e.jsx(ae,{news:h,onBackToList:f,showBackButton:!0,auth:u})}):e.jsxs(e.Fragment,{children:[!l?.data.length&&!b?.data.length&&e.jsx(q,{}),e.jsx("div",{className:"lg:hidden",children:e.jsx(le,{items:l?.data||[],onNewsSelect:a,paginationLinks:[]})})]})})}export{$e as default};
