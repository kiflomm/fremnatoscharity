import{c as A,b as F,r as g,j as e,a as T}from"./app-BNOx4n0Q.js";import{F as E}from"./FixedHeaderLayout-CG-uwVak.js";import{B as V}from"./index-C8xIoliH.js";import{I as d}from"./input-Chyo32yl.js";import{L as r}from"./label-DqBnnaL2.js";import{T as B}from"./textarea-BbeGjFEQ.js";import{S as h,a as p,b as x,c as u,d as n}from"./select-BfvKBw4i.js";import{M as I}from"./multi-select-CkMaS3h0.js";import{C as v,a as b,b as y,c as _,d as U}from"./card-CBbqZ_sk.js";import{S as q}from"./separator-CzHLU18D.js";import{f as S,t as z,T as M}from"./index-OF6NnHu5.js";import{m as j}from"./Footer-CMR6BGQ2.js";/* empty css            */import"./alert-dialog-Btgo67-r.js";import"./index-DkWml3F0.js";import"./index-BqF0WYZl.js";import"./badge-DmkRbq9F.js";import"./search-CJB3hUea.js";import"./mail-DbJ0qAIn.js";function R({professionalHelpCategories:k,autoOpen:P=!1}){const{t,i18n:c}=S(),{theme:l}=A(),{auth:O,isAuthenticated:D,user:C}=F().props,[G,L]=g.useState(0);g.useRef(null);const w=a=>{const i=c.language;return i==="en"?a.name:(a.translations||{})[i]||a.name};g.useEffect(()=>{const a=()=>{L(i=>i+1)};return c.on("languageChanged",a),()=>{c.off("languageChanged",a)}},[c]);const[s,N]=g.useState({name:C?.name||"",fatherName:"",gender:"",age:"",country:"",region:"",city:"",woreda:"",kebele:"",profession:"",educationLevel:"",phoneNumber:"",helpProfessions:[],otherHelp:"",donationAmount:"",donationCurrency:"ETB",donationTime:"",propertyType:"",additionalProperty:"",propertyDonationTime:""}),o=(a,i)=>{N(m=>({...m,[a]:i}))},H=a=>{N(i=>({...i,helpProfessions:a}))},$=a=>{if(a.preventDefault(),!D){T.visit("/login");return}const i=t("donation_form.other"),m=(s.helpProfessions||[]).map(f=>f===i&&s.otherHelp.trim().length>0?s.otherHelp.trim():f);T.post("/memberships",{name:s.name,father_name:s.fatherName,gender:s.gender,age:s.age?Number(s.age):void 0,country:s.country,region:s.region,city:s.city,woreda:s.woreda,kebele:s.kebele,profession:s.profession,education_level:s.educationLevel,phone_number:s.phoneNumber,help_profession:m,donation_amount:s.donationAmount?Number(s.donationAmount):void 0,donation_currency:s.donationCurrency,donation_time:s.donationTime,property_type:s.propertyType,additional_property:s.additionalProperty,property_donation_time:s.propertyDonationTime},{onSuccess:()=>{N({name:C?.name||"",fatherName:"",gender:"",age:"",country:"",region:"",city:"",woreda:"",kebele:"",profession:"",educationLevel:"",phoneNumber:"",helpProfessions:[],otherHelp:"",donationAmount:"",donationCurrency:"ETB",donationTime:"",propertyType:"",additionalProperty:"",propertyDonationTime:""})},onError:f=>{z.error("Failed to submit membership application. Please try again."),console.error("Form submission errors:",f)}})};return e.jsx(j.section,{id:"donation-form",className:"py-16 bg-gradient-to-br from-background via-background to-muted/20",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsx(j.div,{className:"text-center mb-6",children:e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:t("donation_form.title")})}),e.jsxs("form",{onSubmit:$,children:[e.jsxs(j.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs(v,{className:`${l==="dark"?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[e.jsx(b,{children:e.jsxs(y,{className:`${l==="dark"?"text-white":"text-slate-900"} flex items-center gap-2`,children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),t("donation_form.personal_info")]})}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"name",className:"text-sm font-medium",children:t("donation_form.name")}),e.jsx(d,{id:"name",value:s.name,onChange:a=>o("name",a.target.value),required:!0,className:"h-10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"fatherName",className:"text-sm font-medium",children:t("donation_form.father_name")}),e.jsx(d,{id:"fatherName",value:s.fatherName,onChange:a=>o("fatherName",a.target.value),className:"h-10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"gender",className:"text-sm font-medium",children:t("donation_form.gender")}),e.jsxs(h,{value:s.gender,onValueChange:a=>o("gender",a),children:[e.jsx(p,{className:"h-10 dark:bg-white dark:text-slate-900",children:e.jsx(x,{placeholder:t("donation_form.select_gender")})}),e.jsxs(u,{children:[e.jsx(n,{value:"male",children:t("donation_form.male")}),e.jsx(n,{value:"female",children:t("donation_form.female")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"age",className:"text-sm font-medium",children:t("donation_form.age")}),e.jsx(d,{id:"age",type:"number",value:s.age,onChange:a=>o("age",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:`text-sm font-semibold ${l==="dark"?"text-slate-300":"text-slate-600"} border-b pb-2`,children:"Location Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"country",className:"text-sm font-medium",children:t("donation_form.country")}),e.jsx(d,{id:"country",value:s.country,onChange:a=>o("country",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"region",className:"text-sm font-medium",children:t("donation_form.region")}),e.jsx(d,{id:"region",value:s.region,onChange:a=>o("region",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"city",className:"text-sm font-medium",children:t("donation_form.city")}),e.jsx(d,{id:"city",value:s.city,onChange:a=>o("city",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"woreda",className:"text-sm font-medium",children:t("donation_form.woreda")}),e.jsx(d,{id:"woreda",value:s.woreda,onChange:a=>o("woreda",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"kebele",className:"text-sm font-medium",children:t("donation_form.kebele")}),e.jsx(d,{id:"kebele",value:s.kebele,onChange:a=>o("kebele",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:`text-sm font-semibold ${l==="dark"?"text-slate-300":"text-slate-600"} border-b pb-2`,children:"Professional Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"profession",className:"text-sm font-medium",children:t("donation_form.profession")}),e.jsx(d,{id:"profession",value:s.profession,onChange:a=>o("profession",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"educationLevel",className:"text-sm font-medium",children:t("donation_form.education_level")}),e.jsx(d,{id:"educationLevel",value:s.educationLevel,onChange:a=>o("educationLevel",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(r,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:t("donation_form.phone_number")}),e.jsx(d,{id:"phoneNumber",type:"tel",value:s.phoneNumber,onChange:a=>o("phoneNumber",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{className:`${l==="dark"?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[e.jsxs(b,{children:[e.jsxs(y,{className:`${l==="dark"?"text-white":"text-slate-900"} flex items-center gap-2`,children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),t("donation_form.professional_help_title")]}),e.jsx(U,{className:`${l==="dark"?"text-slate-300":"text-slate-600"} text-sm`,children:t("donation_form.professional_help_description")}),e.jsxs("div",{className:`text-xs mt-2 ${l==="dark"?"text-slate-400":"text-slate-500"}`,children:["ðŸ’¡ ",t("donation_form.professional_help_hint")]})]}),e.jsxs(_,{children:[e.jsx(I,{options:k.map(a=>({value:w(a),label:w(a)})).sort((a,i)=>{const m=t("donation_form.other");return a.label===m&&i.label!==m?1:i.label===m&&a.label!==m?-1:0}),value:s.helpProfessions,onChange:H,placeholder:"Select professional help areas...",className:"w-full"}),s.helpProfessions.includes(t("donation_form.other"))&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(r,{htmlFor:"otherHelp",className:"text-sm font-medium",children:t("donation_form.other")}),e.jsx(d,{id:"otherHelp",value:s.otherHelp,onChange:a=>o("otherHelp",a.target.value),placeholder:t("donation_form.additional_property_placeholder"),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]})]})]}),e.jsxs(v,{className:`${l==="dark"?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[e.jsx(b,{children:e.jsxs(y,{className:`${l==="dark"?"text-white":"text-slate-900"} flex items-center gap-2`,children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),t("donation_form.donation")]})}),e.jsxs(_,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-semibold mb-3 ${l==="dark"?"text-slate-300":"text-slate-600"} border-b pb-2`,children:t("donation_form.by_money")}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"donationAmount",className:"text-sm font-medium",children:t("donation_form.amount_of_money")}),e.jsx(d,{id:"donationAmount",type:"number",value:s.donationAmount,onChange:a=>o("donationAmount",a.target.value),className:"h-10 dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"donationCurrency",className:"text-sm font-medium",children:t("donation_form.birr")}),e.jsxs(h,{value:s.donationCurrency,onValueChange:a=>o("donationCurrency",a),children:[e.jsx(p,{className:"h-10 dark:bg-white dark:text-slate-900",children:e.jsx(x,{})}),e.jsxs(u,{children:[e.jsx(n,{value:"ETB",children:t("donation_form.birr")}),e.jsx(n,{value:"USD",children:t("donation_form.usd")}),e.jsx(n,{value:"EUR",children:t("donation_form.eur")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"donationTime",className:"text-sm font-medium",children:t("donation_form.select_donation_time")}),e.jsxs(h,{value:s.donationTime,onValueChange:a=>o("donationTime",a),children:[e.jsx(p,{className:"h-10 dark:bg-white dark:text-slate-900",children:e.jsx(x,{placeholder:t("donation_form.select_donation_time")})}),e.jsxs(u,{children:[e.jsx(n,{value:"one_time",children:t("donation_form.one_time")}),e.jsx(n,{value:"monthly",children:t("donation_form.monthly")}),e.jsx(n,{value:"yearly",children:t("donation_form.yearly")})]})]})]})]})]})]}),e.jsx(q,{}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-semibold mb-3 ${l==="dark"?"text-slate-300":"text-slate-600"} border-b pb-2`,children:t("donation_form.by_property")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"propertyType",className:"text-sm font-medium",children:t("donation_form.select_property_type")}),e.jsxs(h,{value:s.propertyType,onValueChange:a=>o("propertyType",a),children:[e.jsx(p,{className:"h-10 dark:bg-white dark:text-slate-900",children:e.jsx(x,{placeholder:t("donation_form.select_property_type")})}),e.jsxs(u,{children:[e.jsx(n,{value:"land",children:t("donation_form.land")}),e.jsx(n,{value:"building",children:t("donation_form.building")}),e.jsx(n,{value:"vehicle",children:t("donation_form.vehicle")}),e.jsx(n,{value:"equipment",children:t("donation_form.equipment")}),e.jsx(n,{value:"other",children:t("donation_form.other")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"propertyDonationTime",className:"text-sm font-medium",children:t("donation_form.select_donation_time")}),e.jsxs(h,{value:s.propertyDonationTime,onValueChange:a=>o("propertyDonationTime",a),children:[e.jsx(p,{className:"h-10 dark:bg-white dark:text-slate-900",children:e.jsx(x,{placeholder:t("donation_form.select_donation_time")})}),e.jsxs(u,{children:[e.jsx(n,{value:"immediate",children:t("donation_form.immediate")}),e.jsx(n,{value:"future",children:t("donation_form.future")})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"additionalProperty",className:"text-sm font-medium",children:t("donation_form.additional_property")}),e.jsx(B,{id:"additionalProperty",value:s.additionalProperty,onChange:a=>o("additionalProperty",a.target.value),placeholder:t("donation_form.additional_property_placeholder"),rows:3,className:"resize-none dark:bg-white dark:text-slate-900 dark:placeholder:text-slate-500"})]})]})]})]})]})]})]}),e.jsx(j.div,{className:"text-center mt-8",children:e.jsx(V,{type:"submit",size:"lg",className:"px-12 py-3 text-lg font-semibold bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:t("donation_form.submit")})})]})]})})}function he(){const{auth:k,isAuthenticated:P,user:t,professionalHelpCategories:c}=F().props,{t:l}=S();return e.jsxs(E,{title:l("donation_form.title"),children:[e.jsx(R,{professionalHelpCategories:c,autoOpen:!0}),e.jsx(M,{position:"top-right",richColors:!0})]})}export{he as default};
