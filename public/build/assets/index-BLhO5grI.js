import{u as B,j as e,L as I,a as w,r as v,b as V}from"./app-BNOx4n0Q.js";import{A as W,N as O}from"./NewsLayout-CJqly9UK.js";import{u as Q}from"./useTranslations-BsSnzo2z.js";import{S as J,c as Y,l as G,s as K,i as M}from"./index-BfU1WlcG.js";import{A as X}from"./AttachmentsCarousel-DP2Ot2Vg.js";import{l as Z}from"./index-BsHNLrDg.js";import{U as A}from"./user-Bf8rlkoH.js";import{M as $}from"./message-square-Dv_EorgD.js";import{C as P}from"./clock-BWe2VF_M.js";import{E as ee}from"./ellipsis-YCmJDDC1.js";import{H as q}from"./heart--apBCyVO.js";import{c as S}from"./index-C8xIoliH.js";import{C as te}from"./select-BfvKBw4i.js";import{C as re}from"./copy-aJZoI57v.js";import{C as se}from"./calendar-DUsOAzq5.js";import{E as ae}from"./eye-D3gPgUG0.js";import{N as E,f as le}from"./index-OF6NnHu5.js";/* empty css            */import"./Footer-CMR6BGQ2.js";import"./card-CBbqZ_sk.js";import"./mail-DbJ0qAIn.js";import"./separator-CzHLU18D.js";import"./index-DkWml3F0.js";import"./alert-dialog-Btgo67-r.js";import"./textarea-BbeGjFEQ.js";import"./search-CJB3hUea.js";import"./chevron-left-C7AkzK5-.js";import"./index-BqF0WYZl.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],oe=S("Facebook",ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],de=S("Linkedin",ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],me=S("Play",ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],he=S("Reply",xe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ge=S("Share2",ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],pe=S("Twitter",be);function fe({newsId:t,comments:n,isLoggedIn:o,onCommentSubmitted:b}){const{data:a,setData:f,post:i,processing:l,reset:c}=B({comment:""}),m=r=>{r.preventDefault(),i(Y({news:t}).url,{onSuccess:()=>{c("comment"),b?b():w.reload()}})},x=r=>{const g=new Date(r),N=Math.abs(new Date().getTime()-g.getTime()),y=Math.floor(N/(1e3*60)),k=Math.floor(N/(1e3*60*60)),s=Math.floor(N/(1e3*60*60*24));return y<60?`${y}m ago`:k<24?`${k}h ago`:s<7?`${s}d ago`:g.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return e.jsx("section",{className:"mt-3 mx-auto max-w-3xl px-3 sm:px-4",children:e.jsx("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/30 dark:border-slate-700/60 overflow-hidden",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[o?e.jsx("div",{className:"mb-6",children:e.jsxs("form",{onSubmit:m,className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-600 px-4 py-3 text-sm bg-white/60 dark:bg-slate-700/60 backdrop-blur-sm text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all duration-200 hover:bg-white/80 dark:hover:bg-slate-700/80",rows:3,value:a.comment,onChange:r=>f("comment",r.target.value),placeholder:"Share your thoughts...",required:!0}),e.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:[a.comment.length,"/500"]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:`group inline-flex items-center px-5 py-2 rounded-lg text-xs font-medium transition-all duration-300 transform hover:scale-105 active:scale-95 ${l||!a.comment.trim()?"bg-gray-100 dark:bg-slate-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md shadow-blue-500/20 hover:shadow-lg hover:shadow-blue-500/30"}`,disabled:l||!a.comment.trim(),children:[e.jsx(J,{className:"h-3 w-3 mr-2 transition-transform duration-300 group-hover:translate-x-0.5"}),l?"Posting...":"Post"]})})]})}):e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-blue-50 dark:from-blue-900/20 dark:via-indigo-900/20 dark:to-blue-900/20 rounded-xl p-4 border border-blue-200/50 dark:border-blue-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(A,{className:"h-8 w-8 text-blue-500 dark:text-blue-400 mx-auto mb-2"}),e.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"Join the conversation"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mb-3",children:"Please log in to share your thoughts."}),e.jsx(I,{href:Z().url,className:"inline-flex items-center px-4 py-2 rounded-lg bg-blue-600 text-white text-xs font-medium hover:bg-blue-700 transition-all duration-200 hover:scale-105",children:"Sign In to Comment"})]})})}),n.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"max-w-xs mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($,{className:"h-8 w-8 text-blue-500 dark:text-blue-400"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-2",children:"Start the conversation"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Be the first to share your thoughts!"})]})}):e.jsx("div",{className:"space-y-4",children:n.map((r,g)=>e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-50/60 via-white/60 to-slate-50/60 dark:from-slate-800/40 dark:via-slate-700/40 dark:to-slate-800/40 backdrop-blur-sm rounded-xl p-4 border border-slate-200/60 dark:border-slate-600/40 hover:shadow-md hover:shadow-slate-200/40 dark:hover:shadow-slate-900/20 transition-all duration-300",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-full flex items-center justify-center shadow-md",children:e.jsx(A,{className:"h-4 w-4 text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:r.author.name}),r.createdAt&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(P,{className:"h-3 w-3"}),e.jsx("span",{children:x(r.createdAt)})]})]}),e.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-600 transition-all duration-200",children:e.jsx(ee,{className:"h-3 w-3 text-gray-400"})})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed mb-3",children:r.text}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs text-gray-600 dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-all duration-200",children:[e.jsx(q,{className:"h-3 w-3"}),e.jsx("span",{children:"Like"})]}),e.jsxs("button",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs text-gray-600 dark:text-gray-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200",children:[e.jsx(he,{className:"h-3 w-3"}),e.jsx("span",{children:"Reply"})]})]})]})]})}),g<n.length-1&&e.jsx("div",{className:"mt-4 h-px bg-gradient-to-r from-transparent via-slate-200 dark:via-slate-700 to-transparent"})]},r.id))})]})})})}function ve({news:t,onBackToList:n,showBackButton:o=!1,auth:b}){const[a,f]=v.useState(!1),[i,l]=v.useState(!1),[c,m]=v.useState(!1),[x,r]=v.useState(!1),g=v.useRef(null),T=!!b?.user;v.useEffect(()=>{const d=p=>{g.current&&!g.current.contains(p.target)&&m(!1)};return c&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[c]);const N=()=>{w.post(G({news:t.id}).url)},y=()=>{l(!i)},k=()=>{f(!0),l(!0)},s=()=>{f(!1),l(!1)},h=()=>window.location.origin+K({news:t.id}).url,C=()=>{m(!c)},U=async()=>{try{await navigator.clipboard.writeText(h()),r(!0),setTimeout(()=>r(!1),2e3),m(!1)}catch(d){console.error("Failed to copy link:",d)}},_=d=>{const p=encodeURIComponent(h()),j=encodeURIComponent(t.title),L=encodeURIComponent(t.description.replace(/<[^>]*>/g,"").substring(0,200)+"...");let u="";switch(d){case"twitter":u=`https://twitter.com/intent/tweet?url=${p}&text=${j}`;break;case"facebook":u=`https://www.facebook.com/sharer/sharer.php?u=${p}`;break;case"linkedin":u=`https://www.linkedin.com/sharing/share-offsite/?url=${p}&title=${j}&summary=${L}`;break}window.open(u,"_blank","width=600,height=400"),m(!1)},H=d=>{const p=new Date(d),L=Math.abs(new Date().getTime()-p.getTime()),u=Math.ceil(L/(1e3*60*60*24));return u===1?"Yesterday":u<=7?`${u} days ago`:p.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},z=(d,p=4)=>{const j=document.createElement("div");j.innerHTML=d;const u=(j.textContent||j.innerText||"").split(" "),F=p*15;return u.length<=F?d:`<p>${u.slice(0,F).join(" ")+"..."}</p>`};return e.jsxs("div",{className:"w-full max-w-full min-h-full bg-gradient-to-br from-white via-slate-50/50 to-blue-50/30 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[o&&n&&e.jsx("div",{className:"lg:hidden p-4 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200/50 dark:border-slate-700/50",children:e.jsxs("button",{onClick:n,className:"inline-flex items-center px-4 py-2 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-all duration-200 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"font-medium",children:"Back to News"})]})}),e.jsx("article",{className:"mx-auto max-w-4xl",children:e.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm shadow-xl border border-white/20 dark:border-slate-700/50 overflow-hidden mx-4 sm:mx-6 lg:mx-8 rounded-2xl lg:rounded-3xl",children:[e.jsxs("div",{className:"relative",children:[e.jsx(X,{title:t.title,images:t.attachments?.images,videos:t.attachments?.videos}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent pointer-events-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("header",{className:"px-6 lg:px-12 pt-8 lg:pt-12 pb-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl lg:text-5xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 dark:from-white dark:via-gray-100 dark:to-white bg-clip-text text-transparent leading-tight",children:t.title}),e.jsx("div",{className:"flex flex-wrap items-center gap-6",children:t.createdAt&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:H(t.createdAt)})]})}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-slate-200 dark:via-slate-700 to-transparent"})]})}),e.jsxs("div",{className:"px-6 lg:px-12 pb-8",children:[e.jsx("div",{className:`prose prose-lg lg:prose-xl max-w-none
                         text-gray-700 dark:text-gray-300
                         prose-headings:text-gray-900 dark:prose-headings:text-white
                         prose-headings:font-bold prose-headings:tracking-tight
                         prose-a:text-blue-600 dark:prose-a:text-blue-400
                         prose-a:no-underline hover:prose-a:underline
                         prose-p:leading-relaxed prose-p:mb-6
                         prose-strong:text-gray-900 dark:prose-strong:text-white
                         prose-blockquote:border-l-4 prose-blockquote:border-blue-500
                         prose-blockquote:bg-blue-50/50 dark:prose-blockquote:bg-blue-900/10
                         prose-blockquote:py-4 prose-blockquote:px-6 prose-blockquote:rounded-r-lg`,dangerouslySetInnerHTML:{__html:a?t.description:z(t.description)}}),(()=>{const d=document.createElement("div");d.innerHTML=t.description;const j=(d.textContent||d.innerText||"").split(" "),u=4*15;return j.length>u?e.jsx("div",{className:"mt-4",children:a?e.jsx("button",{onClick:s,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium text-sm transition-colors duration-200 hover:underline",children:"See less"}):e.jsx("button",{onClick:k,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium text-sm transition-colors duration-200 hover:underline",children:"See more"})}):null})()]}),e.jsx("div",{className:"px-6 lg:px-12 pb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-slate-50/60 via-white/70 to-slate-50/60 dark:from-slate-800/40 dark:via-slate-700/40 dark:to-slate-800/40 backdrop-blur-sm rounded-2xl p-4 border border-slate-200/40 dark:border-slate-600/40",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("button",{onClick:N,className:`group inline-flex items-center px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 hover:scale-105 ${t.isLiked?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400"}`,children:[e.jsx(q,{className:`h-4 w-4 mr-2 transition-all duration-200 ${t.isLiked?"fill-current":"group-hover:fill-current"}`}),e.jsx("span",{className:"font-semibold",children:t.likesCount})]}),e.jsxs("button",{onClick:y,className:`group inline-flex items-center px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 hover:scale-105 ${i?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-green-50 dark:hover:bg-green-900/20 hover:text-green-600 dark:hover:text-green-400"}`,children:[e.jsx($,{className:"h-4 w-4 mr-2 transition-all duration-200"}),e.jsx("span",{className:"font-semibold",children:t.comments.length})]}),e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("button",{onClick:C,className:"group inline-flex items-center px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 hover:scale-105 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400",children:[e.jsx(ge,{className:"h-4 w-4 mr-2 transition-all duration-200"}),e.jsx("span",{className:"font-semibold",children:"Share"})]}),c&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 py-2 z-50",children:[e.jsx("button",{onClick:U,className:"w-full px-4 py-3 text-left text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors duration-200 flex items-center",children:x?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"h-4 w-4 mr-3 text-green-600"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"h-4 w-4 mr-3"}),e.jsx("span",{children:"Copy Link"})]})}),e.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 my-1"}),e.jsxs("button",{onClick:()=>_("twitter"),className:"w-full px-4 py-3 text-left text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors duration-200 flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-3 text-blue-500"}),e.jsx("span",{children:"Share on Twitter"})]}),e.jsxs("button",{onClick:()=>_("facebook"),className:"w-full px-4 py-3 text-left text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors duration-200 flex items-center",children:[e.jsx(oe,{className:"h-4 w-4 mr-3 text-blue-600"}),e.jsx("span",{children:"Share on Facebook"})]}),e.jsxs("button",{onClick:()=>_("linkedin"),className:"w-full px-4 py-3 text-left text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors duration-200 flex items-center",children:[e.jsx(de,{className:"h-4 w-4 mr-3 text-blue-700"}),e.jsx("span",{children:"Share on LinkedIn"})]})]})]})]})})})]})]})}),i&&e.jsx(fe,{newsId:t.id,comments:t.comments,isLoggedIn:T})]})}function ke({news:t,onSelect:n,enhanced:o=!1}){const b=i=>{const l=new Date(i),m=Math.abs(new Date().getTime()-l.getTime()),x=Math.floor(m/(1e3*60*60)),r=Math.floor(m/(1e3*60*60*24));return x<24?`${x}h ago`:r<7?`${r}d ago`:l.toLocaleDateString("en-US",{month:"short",day:"numeric"})},a=()=>{const i=t.attachments?.images??[],l=t.attachments?.videos??[],c=[...i.map(r=>({type:"image",order:r.order,data:r})),...l.map(r=>({type:"video",order:r.order,data:r}))].sort((r,g)=>r.order-g.order);if(c.length===0)return null;const m=c[0],x=i.length+l.length;return e.jsxs("div",{className:"relative aspect-[16/10] bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-800 overflow-hidden",children:[m.type==="image"?e.jsx("img",{src:m.data.url,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-900 to-black",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-300",children:e.jsx(me,{className:"w-8 h-8 text-white ml-1"})}),e.jsx("p",{className:"text-sm text-white/80 font-medium",children:"Video Content"})]})}),x>1&&e.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 backdrop-blur-sm text-white text-xs font-medium px-2 py-1 rounded-full flex items-center gap-1",children:[e.jsx(ae,{className:"h-3 w-3"}),x]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})},f=o?"group bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 dark:border-slate-700/50 overflow-hidden hover:shadow-2xl hover:shadow-blue-500/10 dark:hover:shadow-blue-400/5 transition-all duration-300 max-w-full":"group bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-all max-w-full";return e.jsx("article",{className:f,children:e.jsxs("button",{onClick:()=>n(t.id),className:"block w-full text-left",children:[a(),e.jsx("div",{className:o?"p-6 lg:p-8":"p-6",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex items-center gap-3",children:t.createdAt&&e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs font-medium",children:[e.jsx(P,{className:"h-3 w-3"}),b(t.createdAt)]})}),e.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["#",t.id.toString().padStart(4,"0")]})]}),e.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-gray-900 dark:text-white mb-3 line-clamp-2 leading-tight group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 line-clamp-3 leading-relaxed",children:t.description})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-full bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-sm font-medium",children:[e.jsx($,{className:"h-4 w-4"}),t.commentsCount]}),e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-full bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm font-medium",children:[e.jsx(q,{className:"h-4 w-4"}),t.likesCount]})]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Read more â†’"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2 flex items-center justify-between",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 capitalize",children:[(t.attachments?.images?.length??0)+(t.attachments?.videos?.length??0)," attachments"]})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"h-4 w-4 mr-1"}),t.commentsCount]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"h-4 w-4 mr-1"}),t.likesCount]})]}),t.createdAt&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"h-4 w-4 mr-1"}),new Date(t.createdAt).toLocaleDateString()]})]})]})})]})})}function R({isMobile:t=!1}){return t?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx(E,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No news yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Check back later for updates."})]}):e.jsx("div",{className:"hidden lg:flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(E,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"No News Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back later for the latest news and updates."})]})})}function je({links:t}){return!t||t.length<=3?null:e.jsx("div",{className:"mt-8 flex justify-center px-4",children:e.jsx("nav",{className:"flex space-x-2",children:t.map((n,o)=>e.jsx(I,{href:n.url||"#",className:`px-3 py-2 text-sm font-medium rounded-md ${n.active?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"} ${n.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:n.label}},o))})})}function Ne({items:t,onNewsSelect:n,paginationLinks:o}){return t.length===0?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/20 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:e.jsx(R,{isMobile:!0})}):e.jsxs("div",{className:"min-h-full bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/20 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:e.jsx("div",{className:"grid gap-6 sm:gap-8",children:t.map((b,a)=>e.jsx("div",{className:"transform transition-all duration-300 hover:scale-[1.02] animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${a*100}ms`},children:e.jsx(ke,{news:b,onSelect:n,enhanced:!0})},b.id))})}),o&&e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:e.jsx("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 dark:border-slate-700/50 p-4",children:e.jsx(je,{links:o})})})]})}const D=()=>{const t=new URLSearchParams(window.location.search);return Object.fromEntries(t.entries())};function Ze(){const{t}=le(),{i18n:n}=Q(),{props:o}=V(),{auth:b,recentNews:a,popularNews:f,selectedNews:i}=o,[l,c]=v.useState(i?.id||(o.filters?.selected?parseInt(o.filters.selected||"0"):void 0)),[m,x]=v.useState("list");v.useEffect(()=>{if(!l&&a?.data.length&&a.data.length>0){const s=a.data[0].id;c(s),window.innerWidth>=1024&&x("detail")}},[a?.data,l]),v.useEffect(()=>{n.changeLanguage("en")},[n]);const r=s=>{c(s),x("detail");const h=D();w.visit(M.url({mergeQuery:{...h,selected:s.toString()}}),{preserveScroll:!0,preserveState:!0})},g=()=>{x("list"),c(void 0);const s=D();delete s.selected,w.visit(M.url({query:s}),{preserveScroll:!0,preserveState:!0})},T=s=>{const h=D();delete h.recent_page,delete h.popular_page,s.q?h.q=s.q:delete h.q,w.visit(M.url({query:h}))},N=(s,h)=>{const C=D();s==="recent"?C.recent_page=h.toString():C.popular_page=h.toString(),w.visit(M.url({query:C}),{preserveScroll:!0,preserveState:!0})},y=i||(l?a?.data.find(s=>s.id===l)||f?.data.find(s=>s.id===l):null),k=y?{...y,comments:i?.comments||[],isLiked:i?.isLiked||!1}:null;return e.jsx(O,{title:k?k.title:"News",recentNews:a,popularNews:f,selectedNewsId:l,onNewsSelect:r,filters:o.filters,onFilterChange:T,onPageChange:N,showFilters:!0,hideFooter:!0,children:m==="detail"&&k?e.jsx(e.Fragment,{children:e.jsx(ve,{news:k,onBackToList:g,showBackButton:!1,auth:b})}):e.jsxs(e.Fragment,{children:[!a?.data.length&&!f?.data.length&&e.jsx(R,{}),e.jsx("div",{className:"lg:hidden",children:e.jsx(Ne,{items:a?.data||[],onNewsSelect:r,paginationLinks:[]})})]})})}export{Ze as default};
