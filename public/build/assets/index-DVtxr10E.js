import{r as c,j as e,H as ee,a as _}from"./app-BNOx4n0Q.js";import{a as se,c as ae,d as te,e as re,t as y}from"./index-OF6NnHu5.js";import{C as ie,a as ne,b as oe,d as le,c as ce}from"./card-CBbqZ_sk.js";import{c as de,u as V,a as H,B as x}from"./index-C8xIoliH.js";import{I as f}from"./input-Chyo32yl.js";import{L as n}from"./label-DqBnnaL2.js";import{T as R}from"./textarea-BbeGjFEQ.js";import{u as he}from"./index-BqF0WYZl.js";import{P as W}from"./index-DkWml3F0.js";import{T as me,a as ue,b as B,c as S,d as xe,e as k}from"./table-Dxk6NV9k.js";import{B as pe}from"./badge-DmkRbq9F.js";import{A as ge,h as je,a as fe,b as ve,c as Ce,d as _e,e as be,f as Ne,g as we}from"./alert-dialog-Btgo67-r.js";import{D as M,e as z,a as L,b as O,c as q,f as U,d as $}from"./dialog-CwwtUQBd.js";import{A as ye,S as Se}from"./app-layout-oS8XTSsV.js";import{T as ke}from"./sonner-DfO9lG3O.js";import{P as De}from"./plus-hCaFR0Az.js";import{T as Te}from"./trash-2-s1xiJiE6.js";import{C as Pe}from"./chevron-left-C7AkzK5-.js";import{C as Ae}from"./message-square-Dv_EorgD.js";/* empty css            */import"./avatar-Bm8LPBwK.js";import"./index-BsHNLrDg.js";import"./log-out-Doq8TylV.js";import"./heart--apBCyVO.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ee=de("SquarePen",Fe);var E="Switch",[Ie,cs]=ae(E),[He,Re]=Ie(E),X=c.forwardRef((a,m)=>{const{__scopeSwitch:i,name:r,checked:d,defaultChecked:D,required:p,disabled:o,value:h="on",onCheckedChange:l,form:u,...T}=a,[b,N]=c.useState(null),P=V(m,s=>N(s)),j=c.useRef(!1),v=b?u||!!b.closest("form"):!0,[g,A]=se({prop:d,defaultProp:D??!1,onChange:l,caller:E});return e.jsxs(He,{scope:i,checked:g,disabled:o,children:[e.jsx(W.button,{type:"button",role:"switch","aria-checked":g,"aria-required":p,"data-state":Q(g),"data-disabled":o?"":void 0,disabled:o,value:h,...T,ref:P,onClick:te(a.onClick,s=>{A(t=>!t),v&&(j.current=s.isPropagationStopped(),j.current||s.stopPropagation())})}),v&&e.jsx(K,{control:b,bubbles:!j.current,name:r,value:h,checked:g,required:p,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});X.displayName=E;var G="SwitchThumb",J=c.forwardRef((a,m)=>{const{__scopeSwitch:i,...r}=a,d=Re(G,i);return e.jsx(W.span,{"data-state":Q(d.checked),"data-disabled":d.disabled?"":void 0,...r,ref:m})});J.displayName=G;var Be="SwitchBubbleInput",K=c.forwardRef(({__scopeSwitch:a,control:m,checked:i,bubbles:r=!0,...d},D)=>{const p=c.useRef(null),o=V(p,D),h=he(i),l=re(m);return c.useEffect(()=>{const u=p.current;if(!u)return;const T=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(T,"checked").set;if(h!==i&&N){const P=new Event("click",{bubbles:r});N.call(u,i),u.dispatchEvent(P)}},[h,i,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:o,style:{...d.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});K.displayName=Be;function Q(a){return a?"checked":"unchecked"}var Y=X,Me=J;const I=c.forwardRef(({className:a,...m},i)=>e.jsx(Y,{className:H("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...m,ref:i,children:e.jsx(Me,{className:H("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));I.displayName=Y.displayName;function ds({categories:a}){const[m,i]=c.useState(null),[r,d]=c.useState({}),[D,p]=c.useState(!1),[o,h]=c.useState(!1),[l,u]=c.useState({name:"",description:"",translations:{},is_active:!0,sort_order:0}),T=s=>{i(s),d(s)},b=()=>{!m||!r.name?.trim()||(h(!0),_.patch(`/admin/professional-help-categories/${m.id}`,r,{onSuccess:()=>{i(null),d({}),h(!1),y.success("Category updated successfully!"),_.get("/admin/professional-help-categories")},onError:()=>{h(!1),y.error("Failed to update category. Please try again.")}}))},N=()=>{l.name.trim()&&(h(!0),_.post("/admin/professional-help-categories",l,{onSuccess:()=>{p(!1),u({name:"",description:"",translations:{},is_active:!0,sort_order:0}),h(!1),y.success("Category created successfully!"),_.get("/admin/professional-help-categories")},onError:()=>{h(!1),y.error("Failed to create category. Please try again.")}}))},P=s=>{_.delete(`/admin/professional-help-categories/${s}`,{onSuccess:()=>{y.success("Category deleted successfully!"),_.reload({only:["categories"]})},onError:()=>{y.error("Failed to delete category. Please try again.")}})},j=(s,t)=>{d(C=>({...C,[s]:t}))},v=(s,t)=>{u(C=>({...C,[s]:t}))},g=(s,t,C=!0)=>{C?u(w=>({...w,translations:{...w.translations,[s]:t}})):d(w=>({...w,translations:{...w.translations||{},[s]:t}}))},A=s=>{_.get(`/admin/professional-help-categories?page=${s}`)};return e.jsxs(ye,{children:[e.jsx(ee,{title:"Professional Help Categories"}),e.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Professional Help Categories"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage the professional help categories that users can select from"})]}),e.jsxs(M,{open:D,onOpenChange:p,children:[e.jsx(z,{asChild:!0,children:e.jsxs(x,{children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),e.jsxs(L,{children:[e.jsxs(O,{children:[e.jsx(q,{children:"Add New Category"}),e.jsx(U,{children:"Create a new professional help category"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create_name",children:"Name"}),e.jsx(f,{id:"create_name",value:l.name,onChange:s=>v("name",s.target.value),placeholder:"Category name"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create_description",children:"Description"}),e.jsx(R,{id:"create_description",value:l.description,onChange:s=>v("description",s.target.value),placeholder:"Category description",rows:3})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Translations"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create_translation_am",className:"text-sm text-muted-foreground",children:"Amharic"}),e.jsx(f,{id:"create_translation_am",value:l.translations?.am||"",onChange:s=>g("am",s.target.value,!0),placeholder:"Amharic translation"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create_translation_tg",className:"text-sm text-muted-foreground",children:"Tigrinya"}),e.jsx(f,{id:"create_translation_tg",value:l.translations?.tg||"",onChange:s=>g("tg",s.target.value,!0),placeholder:"Tigrinya translation"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"create_sort_order",children:"Sort Order"}),e.jsx(f,{id:"create_sort_order",type:"number",value:l.sort_order,onChange:s=>v("sort_order",parseInt(s.target.value)||0)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"create_is_active",checked:l.is_active,onCheckedChange:s=>v("is_active",s)}),e.jsx(n,{htmlFor:"create_is_active",children:"Active"})]})]})]}),e.jsxs($,{children:[e.jsx(x,{variant:"outline",onClick:()=>p(!1),disabled:o,children:"Cancel"}),e.jsx(x,{onClick:N,disabled:o||!l.name.trim(),children:o?"Creating...":"Create Category"})]})]})]})]})}),e.jsxs(ie,{children:[e.jsxs(ne,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5"}),"Categories (",a.total,")"]}),e.jsx(le,{children:"Manage professional help categories for membership applications"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(me,{children:[e.jsx(ue,{children:e.jsxs(B,{children:[e.jsx(S,{children:"Name"}),e.jsx(S,{children:"Description"}),e.jsx(S,{children:"Status"}),e.jsx(S,{children:"Sort Order"}),e.jsx(S,{children:"Created"}),e.jsx(S,{children:"Actions"})]})}),e.jsx(xe,{children:a.data.map(s=>e.jsxs(B,{children:[e.jsx(k,{className:"font-medium",children:s.name}),e.jsx(k,{children:e.jsx("div",{className:"max-w-xs truncate",children:s.description||"No description"})}),e.jsx(k,{children:e.jsx(pe,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})}),e.jsx(k,{children:s.sort_order}),e.jsx(k,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(k,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(M,{children:[e.jsx(z,{asChild:!0,children:e.jsx(x,{variant:"outline",size:"sm",onClick:()=>T(s),children:e.jsx(Ee,{className:"h-4 w-4"})})}),e.jsxs(L,{className:"max-w-md",children:[e.jsxs(O,{children:[e.jsx(q,{children:"Edit Category"}),e.jsx(U,{children:"Update the category details"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit_name",children:"Name"}),e.jsx(f,{id:"edit_name",value:r.name||"",onChange:t=>j("name",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit_description",children:"Description"}),e.jsx(R,{id:"edit_description",value:r.description||"",onChange:t=>j("description",t.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Translations"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit_translation_am",className:"text-sm text-muted-foreground",children:"Amharic"}),e.jsx(f,{id:"edit_translation_am",value:r.translations?.am||"",onChange:t=>g("am",t.target.value,!1),placeholder:"Amharic translation"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit_translation_tg",className:"text-sm text-muted-foreground",children:"Tigrinya"}),e.jsx(f,{id:"edit_translation_tg",value:r.translations?.tg||"",onChange:t=>g("tg",t.target.value,!1),placeholder:"Tigrinya translation"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit_sort_order",children:"Sort Order"}),e.jsx(f,{id:"edit_sort_order",type:"number",value:r.sort_order||0,onChange:t=>j("sort_order",parseInt(t.target.value)||0)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"edit_is_active",checked:r.is_active||!1,onCheckedChange:t=>j("is_active",t)}),e.jsx(n,{htmlFor:"edit_is_active",children:"Active"})]})]})]}),e.jsxs($,{children:[e.jsx(x,{variant:"outline",onClick:()=>i(null),disabled:o,children:"Cancel"}),e.jsx(x,{onClick:b,disabled:o||!r.name?.trim(),children:o?"Saving...":"Save Changes"})]})]})]}),e.jsxs(ge,{children:[e.jsx(je,{asChild:!0,children:e.jsx(x,{variant:"outline",size:"sm",children:e.jsx(Te,{className:"h-4 w-4"})})}),e.jsxs(fe,{children:[e.jsxs(ve,{children:[e.jsx(Ce,{children:"Delete Category"}),e.jsxs(_e,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),e.jsxs(be,{children:[e.jsx(Ne,{children:"Cancel"}),e.jsx(we,{onClick:()=>P(s.id),className:"bg-destructive text-white hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},s.id))})]})}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",a.from," to ",a.to," of ",a.total," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>A(a.current_page-1),disabled:a.current_page===1,children:[e.jsx(Pe,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:(()=>{const t=Math.max(1,a.current_page-Math.floor(2.5)),C=Math.min(a.last_page,t+5-1);return Array.from({length:C-t+1},(F,Z)=>t+Z).map(F=>e.jsx(x,{variant:F===a.current_page?"default":"outline",size:"sm",onClick:()=>A(F),className:"w-8 h-8 p-0",children:F},F))})()}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>A(a.current_page+1),disabled:a.current_page===a.last_page,children:["Next",e.jsx(Ae,{className:"h-4 w-4"})]})]})]})]})]})]}),e.jsx(ke,{position:"top-right",richColors:!0})]})}export{ds as default};
