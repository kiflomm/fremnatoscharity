import{r as n,j as e,H as p,a as x}from"./app-BNOx4n0Q.js";import{A as u}from"./app-layout-oS8XTSsV.js";import{C as j,a as f,b,d as C,c as w}from"./card-CBbqZ_sk.js";import{T as v,a as g,b as o,c as r,d as y,e as a}from"./table-Dxk6NV9k.js";import{B as _}from"./index-C8xIoliH.js";import{I as N}from"./input-Chyo32yl.js";import{B as T}from"./badge-DmkRbq9F.js";import{t as d}from"./index-OF6NnHu5.js";/* empty css            */import"./index-DkWml3F0.js";import"./avatar-Bm8LPBwK.js";import"./index-BsHNLrDg.js";import"./log-out-Doq8TylV.js";import"./heart--apBCyVO.js";import"./message-square-Dv_EorgD.js";function P({memberships:c}){const[t,m]=n.useState(""),l=c?.data??[],h=n.useMemo(()=>{const s=t.trim().toLowerCase();return s?l.filter(i=>i.name.toLowerCase().includes(s)||(i.email?.toLowerCase().includes(s)??!1)||(i.phone_number?.toLowerCase().includes(s)??!1)||(i.help_profession?.toLowerCase().includes(s)??!1)):l},[l,t]);return e.jsxs(u,{breadcrumbs:[{title:"Dashboard",href:"/admin/dashboard"},{title:"Memberships",href:"/admin/memberships"}],children:[e.jsx(p,{title:"Admin - Memberships"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 sm:p-6",children:e.jsxs(j,{children:[e.jsxs(f,{children:[e.jsx(b,{children:"Offered Donations"}),e.jsx(C,{children:"Review and manage Donors submissions"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(N,{placeholder:"Search by name, email, phone, help...",value:t,onChange:s=>m(s.target.value),className:"w-full sm:w-[320px]"})})]}),e.jsx(w,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(v,{children:[e.jsx(g,{children:e.jsxs(o,{children:[e.jsx(r,{children:"Full Name"}),e.jsx(r,{children:"Email"}),e.jsx(r,{children:"Phone"}),e.jsx(r,{children:"Help Category"}),e.jsx(r,{children:"Donation"}),e.jsx(r,{children:"Submitted"}),e.jsx(r,{className:"text-right",children:"Actions"})]})}),e.jsx(y,{children:h.map(s=>e.jsxs(o,{children:[e.jsx(a,{className:"font-medium",children:s.name}),e.jsx(a,{children:s.email??"-"}),e.jsx(a,{children:s.phone_number??"-"}),e.jsx(a,{children:s.help_profession??"-"}),e.jsx(a,{children:s.donation_amount?e.jsxs(T,{variant:"secondary",children:[s.donation_amount," ",s.donation_currency]}):"-"}),e.jsx(a,{children:new Date(s.created_at).toLocaleString()}),e.jsx(a,{className:"text-right",children:e.jsx(_,{variant:"destructive",size:"sm",onClick:()=>x.delete(`/admin/memberships/${s.id}`,{preserveScroll:!0,onSuccess:()=>d.success("Membership deleted successfully"),onError:()=>d.error("Failed to delete membership")}),children:"Delete"})})]},s.id))})]})})})]})})]})}export{P as default};
