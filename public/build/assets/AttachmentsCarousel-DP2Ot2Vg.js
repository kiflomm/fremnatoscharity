import{r as n,j as e}from"./app-BNOx4n0Q.js";import{B as h}from"./index-C8xIoliH.js";import{C as f}from"./chevron-left-C7AkzK5-.js";import{C as p}from"./message-square-Dv_EorgD.js";function v({title:o,images:d=[],videos:m=[]}){const a=n.useMemo(()=>[...d.map(t=>({type:"image",order:t.order,data:t})),...m.map(t=>({type:"video",order:t.order,data:t}))].sort((t,s)=>t.order-s.order),[d,m]),[r,c]=n.useState(0);n.useEffect(()=>{c(0)},[a]);const i=a.length>0,u=i&&r>0,x=i&&r<a.length-1;if(!i)return null;const l=a[r];return!l||!l.type?e.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-slate-700 flex items-center justify-center",children:e.jsx("div",{className:"text-gray-500",children:"Loading..."})}):e.jsxs("div",{className:"relative max-w-full",children:[e.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-slate-700 overflow-hidden max-w-full",children:l.type==="image"?e.jsx("img",{src:l.data.url,alt:o,className:"w-full h-full object-cover",style:{maxWidth:"100%",height:"auto"}}):e.jsx("iframe",{src:l.data.embedUrl,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,title:`${o} - attachment ${r+1}`})}),e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center p-2",children:e.jsx(h,{type:"button",size:"icon",variant:"secondary",className:"h-8 w-8",disabled:!u,onClick:()=>c(t=>Math.max(0,t-1)),children:e.jsx(f,{className:"h-4 w-4"})})}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center p-2",children:e.jsx(h,{type:"button",size:"icon",variant:"secondary",className:"h-8 w-8",disabled:!x,onClick:()=>c(t=>Math.min(a.length-1,t+1)),children:e.jsx(p,{className:"h-4 w-4"})})}),a.length>1&&e.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex items-center justify-center gap-1",children:a.map((t,s)=>e.jsx("button",{"aria-label":`Go to attachment ${s+1}`,className:`h-2 w-2 rounded-full ${s===r?"bg-white":"bg-white/50"} border border-black/10`,onClick:()=>c(s)},s))})]})}export{v as A};
