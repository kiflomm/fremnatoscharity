import{b as v,u as l,j as e,L as c,a as d}from"./app-BNOx4n0Q.js";import{N as y,A as w}from"./NewsLayout-CJqly9UK.js";import{S as k,c as C,l as _}from"./index-BfU1WlcG.js";import{l as m}from"./index-BsHNLrDg.js";import{u as z}from"./useTranslations-BsSnzo2z.js";import{A as L}from"./AttachmentsCarousel-DP2Ot2Vg.js";import{f as D}from"./index-OF6NnHu5.js";import{C as S}from"./calendar-DUsOAzq5.js";import{M as A}from"./message-square-Dv_EorgD.js";import{H as x}from"./heart--apBCyVO.js";import{U as p}from"./user-Bf8rlkoH.js";/* empty css            */import"./Footer-CMR6BGQ2.js";import"./card-CBbqZ_sk.js";import"./index-C8xIoliH.js";import"./select-BfvKBw4i.js";import"./index-DkWml3F0.js";import"./index-BqF0WYZl.js";import"./mail-DbJ0qAIn.js";import"./separator-CzHLU18D.js";import"./alert-dialog-Btgo67-r.js";import"./textarea-BbeGjFEQ.js";import"./search-CJB3hUea.js";import"./clock-BWe2VF_M.js";import"./chevron-left-C7AkzK5-.js";function re(){const{t:r}=D(),{i18n:h}=z(),{props:g}=v(),{news:s,auth:a}=g,{data:n,setData:u,post:f,processing:o,reset:j}=l({comment:""}),b=t=>{if(t.preventDefault(),!a?.user){d.visit(m());return}f(C(s.id).url,{onSuccess:()=>j()})},N=()=>{if(!a?.user){d.visit(m());return}l().post(_(s.id).url)},i=t=>t?new Date(t).toLocaleDateString(h.language,{year:"numeric",month:"long",day:"numeric"}):"";return e.jsx(y,{title:s.title,hideFooter:!0,children:e.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[e.jsxs(c,{href:"/news",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 mb-6",children:[e.jsx(w,{size:20}),r("common.comments.back_to_news")]}),e.jsxs("article",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:16}),i(s.createdAt)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{size:16}),s.comments.length," ",r("common.comments.comments")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{size:16}),s.likesCount," ",r("common.likes.likes")]})]})]}),s.attachments&&(s.attachments.images?.length>0||s.attachments.videos?.length>0)&&e.jsx("div",{className:"px-6 pt-6",children:e.jsx(L,{title:s.title,images:s.attachments?.images,videos:s.attachments?.videos})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"prose prose-gray max-w-none",dangerouslySetInnerHTML:{__html:s.description}})}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center gap-4",children:e.jsxs("button",{onClick:N,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${s.isLiked?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(x,{size:18,fill:s.isLiked?"currentColor":"none"}),s.likesCount]})})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6",children:[r("common.comments.comments")," (",s.comments.length,")"]}),a?.user?e.jsx("form",{onSubmit:b,className:"mb-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(p,{size:20,className:"text-gray-600"})})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("textarea",{value:n.comment,onChange:t=>u("comment",t.target.value),placeholder:r("common.comments.write_comment"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,disabled:o}),e.jsxs("button",{type:"submit",disabled:!n.comment.trim()||o,className:"mt-2 inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(k,{size:16}),r("common.comments.post_comment")]})]})]})}):e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:r("common.comments.login_to_comment")}),e.jsx(c,{href:m().url,className:"text-blue-600 hover:underline",children:r("common.navigation.login")})]}),e.jsx("div",{className:"space-y-4",children:s.comments.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:r("common.comments.no_comments")}):s.comments.map(t=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(p,{size:16,className:"text-gray-600"})})}),e.jsx("div",{className:"flex-grow",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:t.author.name}),e.jsx("span",{className:"text-xs text-gray-500",children:i(t.createdAt)})]}),e.jsx("p",{className:"text-gray-700 text-sm",children:t.text})]})})]},t.id))})]})]})})}export{re as default};
